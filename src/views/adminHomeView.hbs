<style>
  .book-edit {
    margin-right: 5px;
  }
</style>

<div id="confirm-delete" class="modal fade">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Delete Book</h4>
      </div>
      <div class="modal-body">Are you sure you want to delete this book?</div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        <a id="btn-confirm-delete" type="button" class="btn btn-primary">Delete Book</a>
      </div>
    </div>
  </div>
</div>

<div class="row">
  <!-- books -->
  <div class="col-md-12">
    <div style="margin-bottom: 15px" class="flash-message-container">
      {{#compare initialize 0}}
        <div class="flash-message {{flashClass}}">{{{message}}}</div>
      {{/compare}}
    </div>
    <div style="float:left">
      <h3 style="margin: 0 !important">Manage Books</h3>
    </div>
    <div style="float:right">
      <a href="newbook" role="button" class="btn btn-primary">Create New Book</a>
    </div>
    <div style="clear:both; padding-top: 15px"></div>
    <table id="book-table" class="table table-bordered table-striped">
      <thead>
        <th>Title</th>
        <th>Author</th>
        <th>Do Stuff</th>
      </thead>
      <tbody>
        {{#each books}}
          <tr>
            <td>{{title}}</td>
            <td>{{author}}</td>
            <td>
              <a href="book/{{_id}}" role="button" class="btn btn-primary btn-xs book-edit">Edit</a>
              <a data-id="{{_id}}" role="button" class="btn btn-danger btn-xs delete-book">Delete</a>
            </td>
          </tr>
        {{/each}}
      </tbody>
    </table>
  </div>
</div>
<script>
  $(function () {

    $('#book-table').DataTable();

    $('.delete-book').on('click', function (event) {

      event.preventDefault();

      var id = $(this).attr('data-id');

      $('#btn-confirm-delete').attr('href', '/admin/deletebook/' + id);
      $('#confirm-delete').modal('show');

    });

  });
</script>